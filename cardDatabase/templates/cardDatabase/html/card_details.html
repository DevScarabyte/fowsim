{% load static card_database_tags %}
<div class="card-container">
    <div class="card-left-half">
        <img class="card-img" src="{% static 'cards/'%}{{ card.card_image_filename }}">
    </div>
    <div class="card-right-half">
        <div class="card-text-info">
            <div class="card-text-info-title">
                Name:
            </div>
            <div class="card-text-info-text">
                {{ card.name }}
            </div>
        </div>
        <div class="card-text-info">
            <div class="card-text-info-title">
                Type(s):
            </div>
            <div class="card-text-info-text">
                {% for card_type in card.types.all %}
                    {{ card_type.name }}{% if not forloop.last %},{% endif %}
                {% endfor %}
            </div>
        </div>
        {% if not card.cost  == None %}
            <div class="card-text-info">
                <div class="card-text-info-title">
                    Cost:
                </div>
                <div class="card-text-info-text">
                    {%  format_cost_text card.cost %}
                </div>
            </div>
        {% endif %}
        {% if card.races.all %}
            <div class="card-text-info">
                <div class="card-text-info-title">
                    Race/Trait(s):
                </div>
                <div class="card-text-info-text">
                    {% for race in card.races.all %}
                        {{ race.name }}{% if not forloop.last %},{% endif %}
                    {% endfor %}
                </div>
            </div>
        {% endif %}
        {% if not card.ATK == None %}
            <div class="card-text-info">
                <div class="card-text-info-title">
                    ATK:
                </div>
                <div class="card-text-info-text">
                    {{ card.ATK }}
                </div>
            </div>
        {% endif %}
        {% if not card.DEF == None %}
            <div class="card-text-info">
                <div class="card-text-info-title">
                    DEF:
                </div>
                <div class="card-text-info-text">
                    {{ card.DEF }}
                </div>
            </div>
        {% endif %}
        <div class="card-text-info ability-text">
            {% for ability in card.ability_texts.all %}
                <div class="card-text-info-text">
                    {% format_ability_text ability.text %}
                </div>
            {% endfor %}
        </div>
        {% if card.flavour %}
            <div class="card-text-info">
                <div class="card-text-info-title">
                    Flavour:
                </div>
                <div class="card-text-info-text">
                    {{ card.flavour }}
                </div>
            </div>
        {% endif %}
        <div class="card-text-info">
            <div class="card-text-info-title">
                ID:
            </div>
            <div class="card-text-info-text">
                {% format_id_text  card.card_id %}
            </div>
        </div>
        {% if card.divinity %}
            <div class="card-text-info">
                <div class="card-text-info-title">
                    Divinity:
                </div>
                <div class="card-text-info-text">
                    {{ card.divinity }}
                </div>
            </div>
        {% endif %}
        {% if card.rarity %}
            <div class="card-text-info">
                <div class="card-text-info-title">
                    Rarity:
                </div>
                <div class="card-text-info-text">
                    {{ card.rarity }}
                </div>
            </div>
        {% endif %}
        {% if referred_by %}
            <div id="referred-by">
                <div class="referred-by-title">
                    This card is referenced by:
                </div>
                {% for card_referred_by in referred_by %}
                    <div class="referred-card">
                        <a href="{% card_id_to_url card_referred_by.card_id %}">
                            <div class="referenced-card">
                                {{ card_referred_by.name }}
                                <img class="hover-card-img" src="{% static 'cards/'|add:card_referred_by.card_image_filename %}">
                            </div>
                        </a>
                    </div>
                {% endfor %}
            </div>
        {% endif %}
    </div>
</div>